{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchGallery(q) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n\n  const params = new URLSearchParams({\n    key: '44406929-b6512fae58ed0703418d850ba',\n    q: q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url)\n    .then(res => res.json())\n    .catch(err => console.log(err));\n}\n","function imgTemplate(img) {\n  return `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n\t\t<img \n\t\t\tclass=\"gallery-image\" \n\t\t\tsrc=\"${img.previewURL}\" \n\t\t\talt=\"${img.tags}\" \n\t\t\t/>\n\t</a>\n    <div class=\"item-footer\">\n          <div class=\"item-footer-pair\">\n            <p>Likes</p>\n            <p>${img.likes}</p>\n          </div>\n          <div class=\"item-footer-pair\">\n            <p>Views</p>\n            <p>${img.views}</p>\n          </div>\n          <div class=\"item-footer-pair\">\n            <p>Comments</p>\n            <p>${img.comments}</p>\n          </div>\n          <div class=\"item-footer-pair\">\n            <p>Downloads</p>\n            <p>${img.downloads}</p>\n          </div>\n        </div>\n</li>\n`;\n}\n\nexport function galleryTemplate(images) {\n  return images.map(imgTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchGallery } from './js/pixabay-api';\nimport { galleryTemplate } from './js/render-functions';\n\nconst refs = {\n  formElem: document.querySelector('.form'),\n  ulElem: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formElem.addEventListener('submit', requestImgGallery);\n\nfunction requestImgGallery(e) {\n  e.preventDefault();\n\n  const valueInput = e.target.elements.searchField.value;\n  showLoader();\n  fetchGallery(valueInput)\n    .then(data => {\n      // console.log(data);\n      // galleryTemplate(data.hits);\n      if (data.total === 0) {\n        showError();\n      }\n      const markup = galleryTemplate(data.hits);\n      refs.ulElem.innerHTML = markup;\n      lightbox.refresh();\n    })\n    .catch(err => {})\n    .finally(() => {\n      hideLoader();\n    });\n  refs.formElem.reset();\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlightbox.refresh();\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n\nfunction showError() {\n  iziToast.error({\n    title: '',\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    messageLineHeight: '1.5',\n    messageSize: '16',\n    messageColor: '#fff',\n    position: 'topRight',\n    backgroundColor: '#ef4040',\n    icon: false,\n  });\n}\n"],"names":["fetchGallery","q","BASE_URL","END_POINT","params","url","res","err","imgTemplate","img","galleryTemplate","images","refs","requestImgGallery","e","valueInput","showLoader","data","showError","markup","lightbox","hideLoader","SimpleLightbox","iziToast"],"mappings":"6vBAAO,SAASA,EAAaC,EAAG,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QAEZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CCjBA,SAASC,EAAYC,EAAK,CACxB,MAAO;AAAA,iCACwBA,EAAI,aAAa;AAAA;AAAA;AAAA,UAGxCA,EAAI,UAAU;AAAA,UACdA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMDA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,CAK9B,CAEO,SAASC,EAAgBC,EAAQ,CACtC,OAAOA,EAAO,IAAIH,CAAW,EAAE,KAAK,EAAE,CACxC,CCxBA,MAAMI,EAAO,CACX,SAAU,SAAS,cAAc,OAAO,EACxC,OAAQ,SAAS,cAAc,aAAa,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,SAAS,iBAAiB,SAAUC,CAAiB,EAE1D,SAASA,EAAkBC,EAAG,CAC5BA,EAAE,eAAc,EAEhB,MAAMC,EAAaD,EAAE,OAAO,SAAS,YAAY,MACjDE,IACAhB,EAAae,CAAU,EACpB,KAAKE,GAAQ,CAGRA,EAAK,QAAU,GACjBC,IAEF,MAAMC,EAAST,EAAgBO,EAAK,IAAI,EACxCL,EAAK,OAAO,UAAYO,EACxBC,EAAS,QAAO,CACtB,CAAK,EACA,MAAMb,GAAO,EAAE,EACf,QAAQ,IAAM,CACbc,GACN,CAAK,EACHT,EAAK,SAAS,OAChB,CAEA,MAAMQ,EAAW,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAS,QAAO,EAEhB,SAASJ,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEA,SAASS,GAAa,CACpBT,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEA,SAASM,GAAY,CACnBK,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,kBAAmB,MACnB,YAAa,KACb,aAAc,OACd,SAAU,WACV,gBAAiB,UACjB,KAAM,EACV,CAAG,CACH"}